{{ site_admin }}
{{ if search_active }}

<div id="magnifying-glass" class="flex items-center px-2 space-x-4 ">

<div id="search_bar" x-cloak x-data="{ showSearch: false, searchQuery: '', searchResults: false }" @keydown.escape="showSearch = (searchQuery !== ''); searchQuery = ''">
    <button
        type="button"
        id="search-Button"
        aria-label="Search Button"
        class="hidden md:flex items-center py-2 group navbar-link transition font-bold antialiased cursor-pointer"
        @click="showSearch = true; $focus.next()">
        <svg
            class="transition "
            xmlns="http://www.w3.org/2000/svg"
            height="21"
            width="21"
            viewBox="0 0 16 16">
            <title>Magnifying glass</title>
                <path d="M15.587 14.413l-4.354-4.353A6.1 6.1 0 0012.5 6.333a6.18 6.18 0 10-2.44 4.907l4.353 4.353a.84.84 0 001.174 0 .833.833 0 000-1.18zM1.833 6.333a4.5 4.5 0 114.5 4.5 4.507 4.507 0 01-4.5-4.5z" fill="currentColor"/>
        </svg>
    </button>
    <div
        class="fixed inset-0 z-30 flex flex-col overflow-auto bg-black/50 backdrop-blur-sm p-[12vh] h-screen"
        x-cloak
        x-transition.opacity
        x-show="showSearch"
        x-trap.noscroll="showSearch"
        role="dialog"
        aria-labelledby="search-Button"
    >
        <div class="mx-auto w-full max-w-4xl rounded-lg text-left bg-search-background"
             click.away="showSearch = false"
             x-transition
             @click.outside="showSearch = false; searchQuery = ''">
            <form action="/search" class="flex items-center p-2 px-6">
                <svg
                    class="mr-4 text-search-text"
                    xmlns="http://www.w3.org/2000/svg"
                    height="21"
                    width="21"
                    viewBox="0 0 16 16">
                    <title>Magnifying glass</title>
                    <path d="M15.587 14.413l-4.354-4.353A6.1 6.1 0 0012.5 6.333a6.18 6.18 0 10-2.44 4.907l4.353 4.353a.84.84 0 001.174 0 .833.833 0 000-1.18zM1.833 6.333a4.5 4.5 0 114.5 4.5 4.507 4.507 0 01-4.5-4.5z" fill="currentColor" />
                </svg>
                <input
                    name="q"
                    type="text"
                    ref="searchInput"
                    x-model="searchQuery"
                    class="inline-block w-11/12 bg-transparent py-2 text-search-placeholder focus-border focus-border-white placeholder:text-search-placeholder focus:outline-none"
                    placeholder="{{ search_placeholder }}">
                <button
                    class="ml-4 rounded-sm px-1 py-px tracking-wider text-2xs bg-search-button text-search-text cursor-pointer"
                    @click="showSearch = false">
                    ESC
                </button>
            </form>
        </div>
    </div>
</div>
    </div>
{{ /if }}
{{ /site_admin }}
